<!DOCTYPE html>
<html lang="sl">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
	<title>L-Sistemi</title>
	<link rel="stylesheet" type="text/css" href="../../css/universal.css">
	<link rel="stylesheet" type="text/css" href="../../css/prakticno.css">
	<link rel="stylesheet" type="text/css" href="../../css/l-sistemi.css">
	<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
	<script src="../../js/l-sistem.js"></script>
	<script src="../../js/l-sistem_prep.js"></script>
	<script src="../../js/turtle.js"></script>
</head>
<body>
	<header>
		<h1>L-Sistemi</h1>
	</header>
	<!-- Navigacija -->
<nav>
  <div class="drzalo">
    <div class="nav-element" id="domov"><a href="../../index.html">Uvodna stran</a></div>
    <div class="teorija">
      <div class="nav-element"><a href="../../Teorija/Kompleksna_stevila/index.html">Kompleksna števila</a></div>
      <div class="nav-element"><a href="../../Teorija/Kompleksna_grafika/index.html">Kompleksna grafika</a></div>
      <div class="nav-element"><a href="../../Teorija/Kompleksna_stevila/index.html">Kompleksna števila</a></div>
      <div class="nav-element"><a href="../../Teorija/Kompleksna_stevila/index.html">Kompleksna števila</a></div>
      <div class="nav-element"><a href="../../Teorija/Kompleksna_stevila/index.html">Kompleksna števila</a></div>
    </div>
  </div>
  <div class="drzalo">
    <div class="praktika">
      <div class="nav-element"><a href="../../Prikazi/Simpleks/index.html">Simpleks</a></div>
      <div class="nav-element"><a href="../../Prikazi/Kocka-Teserakt-/index.html">Kocka, teserakt in naprej</a></div>
      <div class="nav-element"><a href="../../Prikazi/Liki/index.html">Liki</a></div>
      <div class="nav-element"><a href="../../Prikazi/Oktaeder-in-naprej/index.html">Oktaeder in naprej</a></div>
      <div class="nav-element"><a href="../../Prikazi/Ikozaeder/index.html">Ikozaeder</a></div>
      <div class="nav-element"><a href="../../Prikazi/Dodekaeder/index.html">Dodekaeder</a></div>
      <div class="nav-element"><a href="../../Prikazi/600-Cell/index.html">600-Cell</a></div>
      <div class="nav-element"><a href="../../Prikazi/120-Cell/index.html">120-Cell</a></div>
      <div class="nav-element"><a href="../../Prikazi/Fraktali/index.html">L-Sistemi</a></div>
    </div>
  </div>
</nav>
<!-- Konec navigacije -->
	
	<div class="content">
		<h3>Testni primer:</h3>
		<p>F = naprej;G = naprej;+ = levo 120;- = desno 120</p><br>
		<p>F = F - G + F + G - F;G = G G</p><br>
		<p>F - G - G</p><hr>
		<div class="textinput">
			<label for="definitions">Vnesite definicije spremenljivk in konstant</label><br>
			<textarea name="definitions" id="definitions" cols="60" rows="4"></textarea>
		</div>
		<div class="textinput">
			<label for="definitions">Vnesite pravila za spremenljivke</label><br>
			<textarea name="rules" id="rules" cols="60" rows="4"></textarea>
		</div>

		<div class="textinput">
			<label for="axiom">Vnesite aksiom</label><br>
			<input name="axiom" id="axiom" type="text">
		</div>
		<div class="textinput">
			<label for="iterations">Vnesite število iteracij</label><br>
			<input name="iterations" id="iterations" type="number">
		</div>

		<button onclick="start()">Generiraj L-Sistem</button><br>
		<canvas width='400' height='400' id="canvas"></canvas>
	</div>
</body>
<script>
	init(document.getElementById('canvas'));
	function start(){
		reset();
		let [defs, rules, axiom, iter] = prep();
		let sequence = generate(axiom, rules, iter);
		LDraw(sequence, defs, 10)
	}


	// function test(){
	// 	console.log(prep());
	// }

	// function LDraw(sequence, defs, dist, noDraw=false){
	// 	let meanings = { //string meanings into functions
	// 		"naprej" : forward,
	// 		"levo" : left,
	// 		"desno" : right,
	// 	}
	// 	let [maxX, maxY] = [0, 0];

	// 	for(let i = 0; i < sequence.length; i++){ //each element of the L-System alphabet does something with turtle
	// 		let current = sequence[i];
	// 		if(current in defs){ //if current even has a definition
	// 			let currentDef = defs[current].replace(/\d+/, ''); //remove integers from the definition
	// 			if(currentDef == "naprej"){ //if the definition is forward
	// 				if(noDraw){ //only move the turtle
	// 					meanings[currentDef](dist);
	// 					if(pos()[0] > maxX){maxX = pos()[0];} //finding maximum x
	// 					if(pos()[1] > maxY){maxY = pos()[1];} //finding maximum y
	// 				} else { //move and draw with turtle
	// 					pendown();
	// 					meanings[currentDef](dist);
	// 					penup();
	// 				}
	// 			} else { //otherwise the definition is rotation
	// 				let currentAngle = parseInt(defs[current].match(/\d+/)[0]); //find only integers in string
	// 				meanings[currentDef](currentAngle);
	// 			}
	// 		}
	// 	}
	// 	if(noDraw){ //reset after searching for max dist and return max values
	// 		reset();
	// 		return [maxX, maxY];
	// 	}
	// }


	// function maxDist(sequence, defs){
	// 	let [maxX, maxY] = LDraw(sequence, defs, 1, true);

	// 	if((maxX - canvas.width) >= (maxY - canvas.height)){ //find out in which direction is the drawing closer/further to/from the edge
	// 		return canvas.width / maxX; //return necessary distance to fill the entire canvas
	// 	} else {
	// 		return canvas.height / maxY; //return necessary distance to fill the entire canvas
	// 	}
	// }


	// function start(){
	// 	reset(); //clear canvas and return to origin
	// 	let axiom = document.getElementById('axiom').value.trim().split(" "); //turing axiom input into array with no spaces
	// 	let iterations = parseInt(document.getElementById('iterations').value.trim()); //remove spaces and turn into integer
	// 	let [rules, defs] = setup();

	// 	let sequence = generate(axiom, rules, iterations); //L-System array
	// 	LDraw(sequence, defs, maxDist(sequence, defs)); //drawing the L-System based on defs with distance that fills the entire canvas
	// }
</script>
</html>