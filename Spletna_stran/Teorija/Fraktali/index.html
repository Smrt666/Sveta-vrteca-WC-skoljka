<!DOCTYPE html>
<html lang="sl">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" type="text/css" href="../../css/universal.css">
  <link rel="stylesheet" type="text/css" href="../../css/teorija.css">
  <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
  <title>Fraktali</title>
</head>

<body>
  <header>
    <span>
      <span class="crtice" onclick="pokazi_skrij()">
        <div class="crtica"></div>
        <div class="crtica"></div>
        <div class="crtica"></div>
      </span>
      <a href="../../index.html"><img src="../../home-button.svg" width="48"></a>
    </span>
    <span>
      Fraktali
    </span>
  </header>
  <!-- Navigacija -->
  <nav>
    <center>
      <div class="nov-div">
        <a href="../../Teorija/Kompleksna_stevila/index.html">
          <div class="nav-element">
            <center> <h5> Kompleksna števila </h5> </center>
            <div class="opisi-naslovov">
              <p>Nekaj teorije kompleksnih števil. <br><br><br></p>
            </div>
          </di>
        </a>
      </div>
      <div class="nov-div">
        <a href="../../Teorija/Projekcija/index.html">
          <div class="nav-element">
            <center> <h5> Projekcija </h5> </center>
            <div class="opisi-naslovov">
              <p>Kako se rišejo točke iz 3D prostora na zaslon? Kaj pa iz 4D? Ali pa več? <br><br></p>
            </div>
          </div>
        </a>
      </div>
      <div class="nov-div">
        <a href="../../Teorija/Manipulacija_prostora/index.html">
          <div class="nav-element">
            <center> <h5> Manipulacija prostora </h5> </center>
            <div class="opisi-naslovov">
              <p>Kako premikati, vrteti in zrcaliti točke v prostoru poljubnih razsežnosti <br><br></p>
            </div>
          </div>
        </a>
      </div>
      <div class="nov-div">
        <a href="../../Teorija/Kompleksna_stevila/index.html">
          <div class="nav-element">
            <center> <h5> Kompleksna števila </h5> </center>
            <div class="opisi-naslovov">
              <p>Nekaj teorije kompleksnih števil. <br><br><br></p>
            </div>
          </div>
        </a>
      </div>
      <div class="nov-div">
        <a href="../../Teorija/Fraktali/index.html">
          <div class="nav-element">
            <center>
              <h5> Fraktali </h5>
            </center>
            <div class="opisi-naslovov">
              <p>Točka - 0D, daljica - 1D, liki - 2D, telesa - 3D...<br> Kaj pa števila vmes? <br><br></p>
            </div>
          </div>
        </a>
      </div>
      <br><br>
      <div class="nov-div">
        <a href="../../Prikazi/Simpleks/index.html">
          <div class="nav-element">
            <center> <h5> Simpleks </h5> </center>
            <div class="opisi-naslovov">
              <p>Trikotnik, tetraeder, kaj sledi? Simulacija družine simpleksov.<br><br></p>
            </div>
          </div>
      </a>
      </div>
      <div class="nov-div">
        <a href="../../Prikazi/Kocka-Teserakt-/index.html">
          <div class="nav-element">
            <center> <h5> Kocka, teserakt in naprej </h5> </center>
            <div class="opisi-naslovov">
              <p>Kvadrat, kocka, kaj pa naprej? Simulacija obeh in še več njunih sorodnikov.</p>
            </div>
          </div>
        </a>
      </div>
      <div class="nov-div">
        <a href="../../Prikazi/Liki/index.html">
          <div class="nav-element">
            <center> <h5> Liki </h5> </center>
            <div class="opisi-naslovov">
              <p>Tukaj lahko opazujete preproste dvodimenzionalne pravilne večkotnike.</p>
            </div>
          </div>
        </a>
      </div>
      <div class="nov-div">
        <a href="../../Prikazi/Oktaeder-in-naprej/index.html">
          <div class="nav-element">
            <center> <h5> Oktaeder in naprej </h5> </center>
            <div class="opisi-naslovov">
              <p>Oktaeder in njegovi bližnji sorodniki <br><br></p>
            </div>
          </div>
        </a>
      </div>
      <div class="nov-div">
        <a href="../../Prikazi/600Ikozaeder/index.html">
          <div class="nav-element">
            <center> <h5> Ikozaeder in 600-cell </h5> </center>
            <div class="opisi-naslovov">
              <p>Iz štirih trikotnikov tetraeder, kaj pa iz dvajsetih? Ali pa morda 4D objekt iz 600 tetraedrov?</p>
            </div>
          </div>
        </a>
      </div>
      <div class="nov-div">
        <a href="../../Prikazi/120Dodekaeder/index.html">
          <div class="nav-element">
            <center> <h5> Dodekaeder in 120-cell </h5> </center>
            <div class="opisi-naslovov">
              <p>Trikotniki, kvadrati, kaj pa telo iz petkotnikov? Ali pa 4D objekt iz tega?<br></p>
            </div>
          </div>
        </a>
      </div>
      <div class="nov-div">
        <a href="../../Prikazi/Fraktali/index.html">
          <div class="nav-element">
            <center> <h5> L-Sistemi </h5> </center>
            <div class="opisi-naslovov">
              <p>Tukaj lahko preizkusite način risanja fraktalov.<br><br></p>
            </div>
          </div>
        </a>
      </div>
      <div class="nov-div">
        <a href="../../Prikazi/Sierpinski_tetraeder/index.html">
          <div class="nav-element">
            <center> <h5> Sierpinski tetraeder </h5> </center>
            <div class="opisi-naslovov">
              <p>Tukaj je primer fraktala v treh dimenzijah.<br><br></p>
            </div>
          </div>
        </a>
      </div>
      <div class="nov-div">
        <a href="../../Prikazi/Kompleksna_grafika/index.html">
          <div class="nav-element">
            <center>
              <h5> Kompleksna grafika </h5>
            </center>
            <div class="opisi-naslovov">
              <p>Na tej strani lahko preizkusite in vidite kako se obnašajo kompleksna pri različnih operacijah.</p>
            </div>
          </div>
        </a>
      </div>
    </center>
  </nav>
  <!-- Konec navigacije -->
  <!-- ..\..\..\..\..\..\Downloads\dvisvgm-2.11.1-win64\dvisvgm.exe vsota_vektorjev_ignore.dvi -->

  <div class="content">
    <section>
      <h2>Definicija fraktala</h2>
      <p>
        <div style="float: right;">
          <img src="sierpinski-triangle.png" alt="Trikotnik Sierpinskega kot primer samopodobnega fraktala."
            style="max-width: 500px; margin: 10px;">
          <br>Trikotnik Sierpinskega kot primer samopodobnega fraktala.<br>
        </div>
        Fraktali zaradi nespecifičnosti in kompleksnosti teh oblik niso uradno definirani, vendar obstajajo nekatere bolj
        splošne definicije z nekaj pomanjkljivostmi.
        Najpreprostejša razlaga fraktala izhaja iz samopodobnih lastnosti teh figur, ki jih vidimo pri najpreprostejših vrstah
        fraktalov.
        Eden od teh je trikotnik Sierpinskega, prikazan na spodnji sliki. Glavna struktura je trikotnik, ki je razdeljen na 3
        manjše trikotnike s polovično dolžino stranice.
        S ponavljanjem delitve na novo nastalih trikotnikih v neskončnost dobimo prikazan fraktal.
        <cite>[<a href="https://en.wikipedia.org/wiki/Fractal">Fractal</a>] [<a href="https://www.youtube.com/watch?v=gB9n2gHsHN4">3Blue1Brown</a>]</cite>
      </p>
      <p>
        Zaradi tehnike grajenja fraktalov iz vedno manjših podenot lahko vidimo, kako se v obliki pojavi samopodobnost, ampak za uporabo fraktalov v primerih resničnega življenja to ne zadošča.
        Samopodobnost se seveda nahaja v naravi, vendar ni pogosta.
        Benoit Mandelbrot, matematik 20. stoletja, ni bil zadovoljen s posploševanjem grobih oblik narave v preprostejše oblike kot krivulje.
        Bil je mnenja, da so fraktali lahko orodje, s katerim natančneje opišemo naravo.
        V naravi oblike niso pravilne, saj se ob povečavi ta oblika ne posploši, ampak pa je groba na vseh ravneh.
        Ideja pojava grobosti na vseh povečavah oblike je skoraj enaka ideji fraktala, da je oblika prvotnega telesa vidna na vseh ravneh.
        V definicijo je bila vpeljala ideja fraktalne dimenzije (o kateri je napisano več v naslednjem podpoglavju), ki nam omogoči, razširitev fraktalov na nenavadne oblike, ki ohranjajo grobost ali nepravilnost pri vseh povečavah.
        Mandelbrot je v svoji knjigi "The Fractal Geometry of Nature" fraktale definiral kot oblike, katerih "Hausdorffova dimenzija" (dimenzije, katerih vrednost je lahko realno število) presega "topološko dimenzijo" (dimenzije celih vrednosti).
        Na žalost tudi ta definicija sama po sebi ni popolna, saj se pojavijo izjeme, ki imajo Hausendorffovo dimenzijo enako topološki dimenziji.
        <cite>[<a href="https://www.youtube.com/watch?v=gB9n2gHsHN4">3Blue1Brown</a>]</cite>
        <cite>[<a href="https://en.wikipedia.org/wiki/Hausdorff_dimension">Hausdorff dimension</a>]</cite>
      </p>
      <p>
        Z vsem tem je fraktal mogoče neformalno definirati kot množico, ki ima vsaj nekatere od naslednjih lastnosti:
        <ul>
          <li>je samopodobna</li>
          <li>njena dimenzija presega njeno topološko dimenzijo</li>
          <li>ima nepravilno obliko</li>
          <li>ni diferenciabilna (v primeru grafa funkcije)</li>
          <li>ohranja podrobnosti pri vsaki povečavi</li>
          <li>ima rekurzivno definicijo</li>
        </ul>
        <cite>[VESNA IRŠIC. Fraktalna dimenzija]</cite>
      </p>
    </section>
    <section>
      <h2>Fraktalna dimenzija</h2>
      <p>
        Za razumevanje fraktalne dimenzije, moramo najprej pogledati lastnosti celih dimenzij.
        Za začetek vzamemo za primer daljico, ki ima dimenzijo 1 in dolžino \(d\).
        Če daljico presekamo na pol, dobimo dve novi daljici z dolžino \(\frac{d}{2}\).<br>
        <img src="slikca0-1.svg" alt="Deljenje daljice na dva dela">
      </p>
      <p>
        To lahko storimo tudi z kvadratom, ki ima 2 dimenziji in dolžino stranice \(d\).
        Če prvotnemu kvadratu zmanjšamo stranico na \(\frac{d}{2}\), dobimo štiri nove kvadrate s četrtino ploščine.<br>
        <img src="slikca1-1.svg" alt="Deljenje kvadrata na štiri dele">
      </p>
      <p>
        Ta postopek lahko razširimo na višje dimenzije.
        V treh dimenzijah dobimo rezultat 8 novih kock s polovično dolžino stranice.
        V štirih dimenzijah dobimo 16 novih <a href="../../Prikazi/Kocka-Teserakt-/index.html">teseraktov</a>
        (4-D različica kocke) s polovično dolžino stranice in tako naprej.
      </p>
      <p>
        Možno je tudi stranice skrčiti z drugačnimi faktorji.
        Za primer lahko vzamemo tretjine.
        V prvi dimenziji iz ene črte tako dobimo 3 nove s tretjino dolžine.
        V drugi dimenziji iz kvadrata dobimo 9 novih s stranico, dolgo tretjino originalne.
        V tretji dimenziji s kocko dobimo 27 novih kock s stranico, dolgo tretjino originalne.
        To lahko nadaljujemo v višje dimenzije.
      </p>
      <p>        
        Viden je vzorec, število manjših kopij se s povečanjem dimenzije za 1 poveča za obratno vrednost faktorja krčenja.
        Če to posplošimo v formulo, kjer je \(N\) število kopij, \(D\) dimenzija in \(r\) faktor krčenja (\(0 < r < 1\)),
        dobimo naslednje:
          $$N=\left(\frac{1}{r}\right)^D$$
        V primeru, da kopijo poskušamo razširiti, je \(r\) faktor širjenja (\(1 < r\)), pa dobimo naslednji izraz: 
          $$N = r^D$$ 
        Ko izrazimo dimenzijo, pa se nam pojavi naslednja formula (\(0 < r < 1\)):
          $$ D = -\frac{\log{N}}{\log{r}}$$
        Ali (\(1 < r\)): 
          $$D = \frac{\log{N}}{\log{r}}$$
      </p>
      <p>
        Običajne oblike, kot črte in kvadrate, lahko izmerimo z enodimenzionalnimi merami, dvodimenzionalnimi merami in tako
        naprej.
        Primer tega so metri, dolžino merimo v metrih, ploščino v kvadratnih metrih, volumen v kubičnih metrih in tako naprej.
        Te mere pa pri naših fraktalih ne zadostujejo.
        Na sliki spodaj je narisana Kochova krivulja, ki na prvi pogled izgleda kot navadna črta z začetno in končno točko,
        vendar je njena dolžina neskončna.
        Ni važno kako blizu pogledamo in poskusimo izmeriti dolžino krivulje, spet bomo naleteli na enako krivuljo kot na začetku.
        Prav tako je ploščina krivulje nič, saj je narejena zgolj iz črt, ki pa nimajo ploščine.
        Tako vemo, da se Kochova krivulja nahaja nekje med 1. in 2. dimenzijo, saj je z enodimenzionalnimi merami neskončno
        dolga, z dvodimenzionalnimi pa dobimo rezultat 0.
        Če bi hoteli izmeriti Kochovo krivuljo, bi potrebovali mere, ki zadostujejo njeni dimenziji.
        <cite>[<a href="https://en.wikipedia.org/wiki/Fractal">Fractal</a>]</cite>
        <cite>[<a href="https://www.youtube.com/watch?v=v273ElS1TRU">Vu Do Math. Fractal dimensions.</a>]</cite>
        <br>
        <img src="koch-curve.png" alt="Kochova krivulja" style="background-color: white;">
        <br>
        Kochova krivulja z neskončno dolžino in ploščino nič.
        <br>
      </p>
      <p>
        Da izračunamo dimenzijo fraktala, pa lahko uporabimo formulo, ki smo jo odkrili prej.
        Za primer lahko vzamemo Kochovo snežinko, ki je narisana na zgornji sliki.
        Potrebujemo dva podatka, koeficient skrčenja $r$ in število kopij \(N\).
        Ker je Kochova krivulja narejena tako, da črto razdelimo na tretjine in srednji del zamenjamo s trikotnikom brez spodnje
        stranice, je primerno vzeti \(r=\frac{1}{3}\).
        Če Kochovo krivuljo skrčimo, vidimo, da lahko originalno krivuljo zgradimo iz \(N=4\) kopij nove krivulje.
        <cite>[<a href="https://www.youtube.com/watch?v=gB9n2gHsHN4">3Blue1Brown</a>]</cite><br>
        <img src="koch-curve-dimension.png" alt="Kochova krivulja razdeljena na 4 dele" style="max-width: 100%;"> <br>
        Kochova krivulja, zgrajena iz štirih Kochovih krivulj z dolžino 1/3 originalne
        <br><br>
        Če te podatke vstavimo v formulo in jo vnesemo v kalkulator, dobimo naslednje:
        $$D = \frac{\log{4}}{\log{3}} \approx 1,26$$
      </p>
    </section>
    <section>
      <h2>Risanje fraktalov</h2>
      <h3>Iterativni funkcijski sistem</h3>
      <p>
        Iterativni funkcijski sistem je eden od načinov prikazovanja fraktalov, pri čemer je končni rezultat po navadi
        samopodobni fraktal.
        Ideja za delovanjem sistema je sestavljenost fraktala iz mnogih enakih podenot, na katerih je bila uporabljena določena
        funkcija.
        Večina teh funkcij je kontraktivnih, kar zmanjšuje razdalje med točkami in posledično tudi oblike.
        Od tod samopodobnostne lastnosti tega načina prikazovanja.
        <cite>[<a href="https://en.wikipedia.org/wiki/Iterated_function_system">Iterated function system</a>]</cite>
      </p>
      <p>
        Eden najzanimivejših primerov Iterativnega funkcijskega sistema je igra kaosa, kjer iz na pogled čisto naključne igre
        dobimo fraktalne oblike.
        Za risanje trikotnika Sierpinskega sledimo naslednjim navodilom.
        Kot osnovno obliko si izberemo trikotnik in v ravnino narišemo samo oglišča tega trikotnika.
        Nato si v ravnini izbermo poljubno točko (lahko je znotraj ali zunaj trikotnika).
        Naključno izberemo eno od treh oglišč in se premaknemo na polovico daljice, ki je nastala med poljubno točko in
        naključnim ogliščem.
        Spet naključno izberemo eno od treh oglišč, vendar se tokrat pomaknemo na polovico daljice med novonastalo točko in
        naključnim ogliščem.
        To ponavljamo za vse novonastale točke in se nam po določenem času nariše trikotnik Sierpinskega, saj je možnost, da
        točka pristane v praznini trikotnika Sierpinskega enaka nič (razen če je bila tja postavljena prvotna točka).
        <cite>[<a href="https://en.wikipedia.org/wiki/Chaos_game">Chaos game</a>]</cite>
      </p>
      <p>        
        Če podobno ponovimo na kvadratu, le da istega oglišča ne smemo izbrati dvakrat zapored, se nam pojavi naslednji fraktal:<br>
        <img src="square-fractal.PNG"><br>
        Igra kaosa na kvadratu. Vir: <a href="https://www.wikiwand.com/en/Chaos_game">https://www.wikiwand.com/en/Chaos_game</a>
      </p>
      <h3>L-Sistem</h3>
      <p>
        L-sistem ali Lindenmayerov sistem je vrsta gramatike, ki je zmožna zelo dobro definirati rekurzivne strukture.
        Sisteme je ustvaril Aristid Lindenmayer, biolog in botanist, ko je iskal način prikazovanja rasti celičnih organizmov in rastlin.
        Le kot dodatek je zaradi rekurzivne narave teh sistemov danes mogoče z njimi ustvariti tudi fraktale.
        L-sistemi za delovanje potrebujejo "abecedo" ali spremenljivke in konstante, aksiom ali začetni niz simbolov ter pravila, ki predhodnim nizom spremenljivk določijo nov niz elementov "abecede".
        Z iteracijo ustvarjamo izhodni niz, katerega pomen interpretiramo kot navodila za risanje določene oblike.
        <cite>[<a href="https://en.wikipedia.org/wiki/L-system">L-system</a>]</cite>
      </p>
      <p>
        Za primer lahko vzamemo sistem s spremenljivkama \(A\) in \(B\), aksiomom \(A\) in pravili \(A \rightarrow AB\) in \(B \rightarrow A\). (\(n\) predstavlja število iteracij):
        <ul>
            <li> \(n=0: A\) </li>
            <li> \(n=1: AB\) </li>
            <li> \(n=2: ABA\) </li>
            <li> \(n=3: ABAAB\) </li>
            <li> \(n=4: ABAABABA\) </li>
            <li> \(n=5: ABAABABAABAAB\) </li>
          </ul>
      <p>
        Za risanje fraktalov z L-sistemi definiramo eno spremenljivko ali več spremenljivk kot risanje črte v določeno smer z določeno dolžino.
        Poleg tega pa definiramo še konstante \(+\), kar pomeni obrat v levo za določen kot, \(-\), obrat v desno za določen kot, \([\), shrani trenuten položaj ter \(]\), ki povrne sistem v nazadnje shranjen položaj.
        To nam omogoča risanje dvodimenzionalnih oblik ter risanje razvejanih oblik.
        Za primer imamo trikotnik Sierpinskega, kjer \(F\) in \(G\) oba pomenita risanje črte:
        <cite>[<a href="https://en.wikipedia.org/wiki/L-system">L-system</a>]</cite>
        <ul>
          <li> spremenljivke: \(F, G\) </li>
          <li> konstante: \(+, -\) </li>
          <li> aksiom: \(F-G-G\) </li>
          <li> kot obračanja: \(120^\circ\) </li>
          <li> pravila: \(F \rightarrow F-G+F+G-F\) in \(G \rightarrow GG\) </li>
        </ul>
      </p>
      <h3>Končno delitveno pravilo</h3>
      <p>
        Končno delitveno pravilo je rekurzivni način deljenja večkotnikov in drugih dvodimenzionalnih oblik na manjše dele.
        To nam omogoča izdelovanje geometričnih fraktalov, vendar nam vseeno dopušča delne spremembe pri vsakem koraku.
        Končno delitveno pravilo razdeli določeno teselacijo ali tlakovanje (pokritje ravnine z geometrijskimi liki) in jo spremeni v novo teselacijo iz manjših večkotnikov.
        En način deljenja večkotnika imenujemo vrsta ploščice in en način deljenja roba oblike vrsta roba.
        <cite>[<a href="https://en.wikipedia.org/wiki/Finite_subdivision_rule">Finite subdivision rule</a>]</cite>
        <div>
          <img src="fsr-fractal.png" alt=""> <br>
          Fraktal, narejen s končnim delitvenim pravilom. Vir: <a href="https://www.pinterest.com/pin/422353271298859809/">https://www.pinterest.com/pin/422353271298859809/</a>
        </div>
      </p>
      <h3>Escape-time fraktali</h3>
        To so fraktali, narejeni z uporabo formule ali ponovitvene relacije (enačba, ki rekurzivno definira zaporedje kot elemente, katerih vrednost je enaka funkciji prejšnjega elementa).
        Z uporabo formule ali ponovitvene relacije na vsaki točki se nam lahko pojavijo fraktali.
        Najbolj poznan primer teh fraktalov je Mandelbrotova množica, ki je množica točk \(c\) v kompleksni ravnini za katere neskončno zaporedje iteracije kompleksnega polinoma \(z_n=z_{n-1}+c\) je omejeno.
        Pod to skupino spadajo še naslednji fraktali: Juliajeva množica, Lyapunov fraktal, fraktal goreče ladje in še mnogo drugih.
        <cite>[<a href="https://en.wikipedia.org/wiki/Fractal">Fractal</a>]</cite>
        <cite>[<a href="https://sl.wikipedia.org/wiki/Mandelbrotova_mno%C5%BEica">Mandelbrotova množica</a>]</cite>
        <div>
          Miškin klik za povečavo, premikaj miško, da premikaš sliko.
          <button onclick="reset()">Ponastavi</button> <br>
          <canvas id='canvas'>
          </canvas>
        </div>
    </section>
  </div>
  <footer>
    <center>Viri</center>
    <ul>
      <li>3Blue1Brown. Fractals are typically not self-similar. Jan. 2017. url: <a href="https://www.youtube.com/watch?v=gB9n2gHsHN4">https://www.youtube.com/watch?v=gB9n2gHsHN4</a>.</li>
      <li>Chaos game. Apr. 2021. url: <a href="https://en.wikipedia.org/wiki/Chaos_game">https://en.wikipedia.org/wiki/Chaos_game</a>.</li>
      <li>Finite subdivision rule. Apr. 2021. url: <a href="https://en.wikipedia.org/wiki/Finite_subdivision_rule">https://en.wikipedia.org/wiki/Finite_subdivision_rule</a>.</li>
      <li>Fractal. Maj 2021. url: <a href="https://en.wikipedia.org/wiki/Fractal">https://en.wikipedia.org/wiki/Fractal</a>.</li>
      <li>Hausdorff dimension. Jan. 2021. url: <a href="https://en.wikipedia.org/wiki/Hausdorff_dimension">https://en.wikipedia.org/wiki/Hausdorff_dimension</a>.</li>
      <li>VESNA IRŠIC. Fraktalna dimenzija. 2015.</li>
      <li>Iterated function system. Maj 2021. url: <a href="https://en.wikipedia.org/wiki/Iterated_function_system">https://en.wikipedia.org/wiki/Iterated_function_system</a>.</li>
      <li>L-system. Maj 2021. url: <a href="https://en.wikipedia.org/wiki/L-system">https://en.wikipedia.org/wiki/L-system</a>.</li>
      <li>Mandelbrotova množica. Nov. 2014. url: <a href="https://sl.wikipedia.org/wiki/Mandelbrotova_mno%C5%BEica">https://sl.wikipedia.org/wiki/Mandelbrotova_mno%C5%BEica</a>.</li>
      <li>Vu Do Math. Fractal dimensions. What, why, how to. Apr. 2020. url: <a href="https://www.youtube.com/watch?v=v273ElS1TRU">https://www.youtube.com/watch?v=v273ElS1TRU</a>.</li>
      <li>Icons made by <a href="https://www.freepik.com" title="Freepik">Freepik</a> from <a href="https://www.flaticon.com/" title="Flaticon">www.flaticon.com</a></li>
    </ul>
  </footer>
</body>
<script src="../../css/menu-pokazi-skrij.js"></script>
<script>
  function in_mandelbrot(x, y) {
    // kompleksno število oblike a + bi
    var maxIterations = 100;

    let real = x;
    let imaginary = y;
    
    for (let i = 0; i < maxIterations; i++) {
      var tmpreal = real * real - imaginary * imaginary + x;
      var tmpimaginary = 2 * imaginary * real + y;

      real = tmpreal;
      imaginary = tmpimaginary;

      if (real * imaginary > 5) {
        return (i * 100 / maxIterations);
      }
      i++;
    }
    return 0;
  }

  var width = 400;
  var height = width;
  var scale = 100;
  var inc = false;

  function reset() {
    xoffset = 0;
    yoffset = 0;
    isMouseDown = false;
    scale = 100;
  }
  reset();

  var c = document.getElementById("canvas");
  c.width = width;
  c.height = height;
  var ctx = c.getContext("2d");
  var imgData = ctx.createImageData(width, height);

 onmousemove = function (e) {
    let ltx = c.getBoundingClientRect().left;
    let ltX = c.getBoundingClientRect().right;
    let lty = c.getBoundingClientRect().top;
    let ltY = c.getBoundingClientRect().bottom;
    let w = ltX - ltx;
    let h = ltY - lty;
    if (e.clientX - ltx > 0 && e.clientX < ltX && e.clientY - lty > 0 && e.clientY < ltY) {
      xoffset += (e.clientX - ltx - 1/2 * c.width) / 100;
      yoffset += (e.clientY - lty - 1/2 * c.height) / 100;
    }
  }


  onmousedown = function (e) {
    let ltx = c.getBoundingClientRect().left;
    let ltX = c.getBoundingClientRect().right;
    let lty = c.getBoundingClientRect().top;
    let ltY = c.getBoundingClientRect().bottom;
    let w = ltX - ltx;
    let h = ltY - lty;
    if (e.clientX - ltx > 0 && e.clientX < ltX && e.clientY - lty > 0 && e.clientY < ltY) {
      isMouseDown = true;
    }
  }
  onmouseup = function (e) {
    isMouseDown = false;
  }

  
  function update() {
    for (var i = 0; i < imgData.data.length; i += 4) {
      let y = (i / 4 / width) + (yoffset);
      let x = (i / 4) % width + (xoffset);

      // Premik da je 0,0 na sredini
      y = (y - height / 2) / scale;
      x = (x - width / 2) / scale;

      imgData.data[i + 0] = (in_mandelbrot(x,y)*4) % 255;
      imgData.data[i + 1] = 0; // (brighness*3) % 255;
      imgData.data[i + 2] = 0; // (brighness*2) % 255;
      imgData.data[i + 3] = 255;

    }
    ctx.putImageData(imgData, 0, 0);
  }
  

  function mainLoop() {
    update();
    if (isMouseDown) {
      scale = (scale * 1.01); // % 200 + 2;
      xoffset *= 1.01;
      yoffset *= 1.01;
    }
    requestAnimationFrame(mainLoop);
  }
  requestAnimationFrame(mainLoop);
</script>
</html>